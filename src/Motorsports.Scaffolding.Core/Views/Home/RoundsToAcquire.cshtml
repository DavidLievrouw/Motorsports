@using Motorsports.Scaffolding.Core.Services

@model Motorsports.Scaffolding.Core.Models.DisplayModels.HomeDisplayModel

@inject IImageService _imageService

@if (Model.HasRoundsToAcquire) {
  <blockquote class="homeHeader">
    <h4>Rounds to acquire</h4>
  </blockquote>
  <table class="table">
    <thead>
    <tr>
      <th>
        @Html.DisplayNameFor(model => model.RoundsToAcquire)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.RoundsToAcquire.First().Number)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.RoundsToAcquire.First().Date)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.RoundsToAcquire.First().Venue)
      </th>
      <th>
      </th>
    </tr>
    </thead>
    <tbody>
    @foreach (var round in Model.RoundsToAcquire) {
      <tr>
        <td>
          <div>
            <div class="roundsToAcquireLogo">
              <a asp-action="Details" asp-controller="Rounds" asp-route-id="@round.Id">
                <img class="sportlogo" src="@_imageService.GetSportLogo(round.Sport)" alt="@round.Sport"/>
              </a>
            </div>
            <div class="roundsToAcquireName">
              <a asp-action="Details" asp-controller="Rounds" asp-route-id="@round.Id">
                @Html.DisplayFor(modelItem => round.Sport)
              </a>
            </div>
          </div>
        </td>
        <td>
          @Html.DisplayFor(modelItem => round.Number)
        </td>
        <td>
          @Html.DisplayFor(modelItem => round.Date)
        </td>
        <td>
          @Html.DisplayFor(modelItem => round.Venue)
        </td>
        <td>
          <a asp-action="MarkReadyToWatch" asp-controller="Rounds" asp-route-id="@round.Id">Ready to watch</a>
        </td>
      </tr>
    }
    </tbody>
  </table>
}